
<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Find User Location using HTML5 Geolocation..and Google Geocode for address - jsFiddle demo</title>
  
  <script type='text/javascript' src='http://code.jquery.com/jquery-1.8.3.js'></script>
  
  <link rel="stylesheet" type="text/css" href="/css/normalize.css">
  
  
  <link rel="stylesheet" type="text/css" href="/css/result-light.css">
  
  <style type='text/css'>
    
  </style>
  


<script type='text/javascript'>//<![CDATA[ 
$(window).load(function(){
var userLocation = (function() {

    return {

        init: function() {
            this.getLocation();
        },

        getLocation: function() {
            var self = this;
            navigator.geolocation.getCurrentPosition(self.geocodeLocation, self.printError);
        },

        geocodeLocation: function(loc) {
            var self = userLocation;
            self.position = {
                lat: loc.coords.latitude,
                long: loc.coords.longitude
            }
            self.geocoder = new google.maps.Geocoder();

            var currentLocation = new google.maps.LatLng(self.position.lat, self.position.long);

            self.geocoder.geocode({
                'latLng': currentLocation
            }, function(results, status) {
                if (status == google.maps.GeocoderStatus.OK) {
                    self.address = results[2].formatted_address;
                    self.printLocation();
                }
            });
        },

        printLocation: function() {
            var self = userLocation;
            $('#results').append('Estimated address: ' + self.address + '<br>Estimated latlng: ' + self.position.lat + ', ' + self.position.long);
        },

        printError: function() {
            $('#results').append('No location found');
        }
    };

}());

$(document).ready(function() {
    userLocation.init();
});
});//]]>  

</script>


</head>
<body>
  <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false&amp;region=US&amp;language=en"></script>
<div id="results"></div>
  
</body>


</html>